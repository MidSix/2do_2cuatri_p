# Estructura de Proyectos .NET: SLN vs CSPROJ

**ID:** 202602022215
**Tags:** #csharp #dotnet #ide #arquitectura #visualstudio
**Referencias:** [[001_Concepto_csproj_y_Compilacion]], [[007_Ejecucion_Proyecto_vs_Archivo]]

## Concepto Fundamental: Mapa vs Territorio

En el ecosistema .NET, la organización lógica del código (lo que ves en el IDE) está desacoplada de la organización física (lo que ves en el explorador de archivos)  -> Lo dicta el .sln (solution).

### 0. Cómo se crea?
- La forma manual involucra:  
	- `dotnet new sln`
	Y luego añadió el proyecto con:
	- `dotnet sln <archivo_solucion> add <ruta_al_proyecto>`
- La forma automatica en vscode implica tener la extension C# Dev Kit, La extension hara esos dos pasos de forma automatica al ejecutar cualquiera de sus comandos si not tienes el .sln ya creado, lo hara porque la extension necesita el .sln para funcionar correctamente. Puedes intentar ejecutar >.NET:Select C# Startup Project y creara el .sln en el workspace que tengas abierto.

### 1. El Archivo `.csproj` (El Territorio)
Es la unidad real de compilación.
- **Analogía:** Es un "cajón" físico con documentos.
- **Función:** Le dice al compilador qué archivos `.cs` incluir, qué librerías importar y qué versión de C# usar.
- **Independencia:** Puede existir y compilarse por sí solo sin necesitar nada más.

### 2. El Archivo `.sln` (El Mapa)
Es un archivo de configuración de texto plano que agrupa múltiples proyectos.
- **Analogía:** Es una "Playlist" de Spotify. No contiene la música (código), solo la lista de reproducción.
- **Función:**
    - Agrupar proyectos relacionados (Frontend, Backend, Tests).
    - Definir dependencias de construcción (A se compila antes que B).
    - Crear **Carpetas Virtuales** para organizar la vista sin mover archivos en el disco.

## Anatomía Interna del `.sln`

Si abres un `.sln` con un editor de texto, verás entradas `Project(...)`. Existen dos tipos principales definidos por sus GUIDs (Identificadores Globales Únicos):

### A. El Proyecto Real
```csharp
Project("{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}") = "MiApp", "src\MiApp.csproj", "{GUID_PROPIO}"
```
- **GUID Clave:** `{FAE04...}` (Identifica un proyecto C#).
- **Ruta:** Apunta a un archivo físico `.csproj`.'
- Son los proyectos reales y los que se compilaran al buildear el .sln 

### B. La Carpeta Virtual (Solution Folder)
```csharp
Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "CarpetitaVisual", "CarpetitaVisual", "{GUID_PROPIO}"
```
- **GUID Clave:** `{2150E...}` (Identifica una carpeta lógica).
- **Naturaleza:** Es un "fantasma". **No existe en el disco duro**. (Puedes pensar en ella como un enlace simbolico{Un enlace simbolico es como un acceso directo mamadisimo}) Lo unico que hace es reordenar tus proyectos C# de forma mas visible. Como ejemplo esta la imagen de abajo. el .csproj real se encuentra en ./test_code/TGR_1/TGR1_test.csproj. Sin embargo en la carpeta virtual se ve como se agiliza el acceso a este proyecto listandolo dentro de una carpeta virtual llamada practicas. Es un acceso logico.

![[virtual_folder_.sln_Csharp.png]]

```csharp
Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "practicas", "practicas", "{81FF0ECC-8F5C-F613-39D4-A1C53935A1A6}"
EndProject
Project("{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}") = "TGR1", "test_code\TGR_1\TGR1_test.csproj", "{ECEB0272-FBB2-0406-BDC8-8CCEE2A1C330}"
EndProject
```
> Este es el fragmento de codigo que aparece dentro del .sln en el momento que se tomo la captura. Como se puede ver el primer proyecto es la carpeta virtual que va a contener a los proyectos que se listen a continuacion, ellos tendran el path real.

- **Uso:** Sirve exclusivamente para que el IDE (Visual Studio(NO el vscode, sino el morado), Rider, Vscode PERO con la extension instalada de C# toolkit) muestre una estructura de árbol ordenada como se muestra en la imagen (la seccion SOLUTION EXPLORER), permitiendo tener 50 proyectos organizados por áreas ("Contabilidad", "RRHH") aunque en el disco estén todos mezclados o en rutas diferentes.

## Conclusión Práctica
- Si borras el `.sln`, **no pierdes código**, solo pierdes la "playlist" o agrupación.
- Puedes tener múltiples `.sln` apuntando a los mismos `.csproj` (ej: `Todo.sln`, `SoloBackend.sln`).
- Las carpetas que ves en el "Solution Explorer" del IDE pueden ser pura ficción organizativa.
